contract_address = "0x8D301A6D574B10f31D90C2D92640faD2727dB350"
logs =[{
            "address": "0x3b63ee389a6e9b00671c884921193cf6879b324a",
            "topics": ["0x7c7488e0588af818abe5ff9b0b34d84226a85dedab4bac73e8452bd02582522a", "0x00000000000000000000000027393823e944923ebca7647ac36922fc7cdd55d7"],
            "data": "0x",
            "blockHash": "0x7720b5e5cb7af3de6b53857447bc8dff78d0e687466b1e89c11d32417e7c9511",
            "blockNumber": "0x222",
            "transactionHash": "0x6bf10221d588922bc8ff1a4b3b3cce1aefe88878f00f4c340710e3f748307dda",
            "transactionIndex": "0x0",
            "logIndex": "0x0",
            "transactionLogIndex": "0x0"
        }, {
            "address": "0x3b63ee389a6e9b00671c884921193cf6879b324a",
            "topics": ["0x18849fb3595df970c17888304c072e32b8d1d6c37a687e1d7dc6ac6be312a16c"],
            "data": "0x00000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000063000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000007d6b33834950ad244550443afcaa69df336edafe00000000000000000000000000000000000000000000000000000000000000387b226964223a22727562797465737431222c226e616d65223a22e5bca0e4b889222c2270686f6e65223a223031303838383838383838227d000000000000000000000000000000000000000000000000000000000000000000000000000000037275627974657374000000000000000000000000000000000000000000000000310000000000000000000000000000000000000000000000000000000000000072657175657374534e3100000000000000000000000000000000000000000000",
            "blockHash": "0x7720b5e5cb7af3de6b53857447bc8dff78d0e687466b1e89c11d32417e7c9511",
            "blockNumber": "0x222",
            "transactionHash": "0x6bf10221d588922bc8ff1a4b3b3cce1aefe88878f00f4c340710e3f748307dda",
            "transactionIndex": "0x0",
            "logIndex": "0x1",
            "transactionLogIndex": "0x1"
        }, {
            "address": "0x3145271589e40a7e9831e57f45f38dfbea606699",
            "topics": ["0xb88fa2fb0cff8b49e92a42aeff336a0782bdf99d3ca4bc6469fc4b203fd2728c", "0x0000000000000000000000007d6b33834950ad244550443afcaa69df336edafe"],
            "data": "0x",
            "blockHash": "0x7720b5e5cb7af3de6b53857447bc8dff78d0e687466b1e89c11d32417e7c9511",
            "blockNumber": "0x222",
            "transactionHash": "0x6bf10221d588922bc8ff1a4b3b3cce1aefe88878f00f4c340710e3f748307dda",
            "transactionIndex": "0x0",
            "logIndex": "0x2",
            "transactionLogIndex": "0x2"
        }, {
            "address": "0x8d301a6d574b10f31d90c2d92640fad2727db350",
            "topics": ["0x919b80a880aa7550381fab2e4b987168e2c3df52d260b99a629968a3d03b11d8", "0x0000000000000000000000003b63ee389a6e9b00671c884921193cf6879b324a"],
            "data": "0x000000000000000000000000000000000000000000000000000000000000c350000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000002d53756363657373656420746f20637265617465204f757965656c204261636b7374616765506572736f6e6e656c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000124261636b7374616765506572736f6e6e656c0000000000000000000000000000",
            "blockHash": "0x7720b5e5cb7af3de6b53857447bc8dff78d0e687466b1e89c11d32417e7c9511",
            "blockNumber": "0x222",
            "transactionHash": "0x6bf10221d588922bc8ff1a4b3b3cce1aefe88878f00f4c340710e3f748307dda",
            "transactionIndex": "0x0",
            "logIndex": "0x3",
            "transactionLogIndex": "0x3"
        }]

abi_hex = CitaSync::Api.get_abi(contract_address, "latest")["result"]
abi = CITA::Utils.to_bytes abi_hex
abi_hash =  Oj.load abi
logs.each do |log|
  input_abi = abi_hash.find {|item| item["signature"] == log[:topics].first && item["type"] == "event"}
  result = DecodeUtils.decode_log(input_abi["inputs"], log[:data], log[:topics])
  puts "======#{input_abi["name"]}==============="
  puts log[:topics]
  puts "------------------"
  puts input_abi
  puts "--------------------"
  puts result
  puts
end
